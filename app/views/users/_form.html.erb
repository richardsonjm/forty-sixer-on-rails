<%= form_for(@user) do |f| %>
  <% if @user.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h2>

      <ul>
      <% @user.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :name %><br>
    <%= f.text_field :name %>
  </div>

<!--   <h3> New Hike </h3></br>
    <div class="field">
      <#%= f.fields_for :treks, Trek.new do |trek_form| %>
       <#%= trek_form.text_field :name %>
      <#% end %>
    </div>
 -->


  <% @treks.each do |trek| %>
    <%= check_box_tag "user[treks][]", trek.name, @user.treks.include?(trek), id: trek.name, value: trek.name %> 
    <%= label_tag "#{trek.name}" %></br>
  <% end %>

<h3> Don't see your hike listed? </h3>
Create a new hike <%= link_to 'here', new_trek_path %>
 <!--  <p>
    Add mountain
    <select name="user[mountains][]">
      <#% @mountains.each do |mountain| %>
      <option value="<#%= mountain.name %>"><#%= mountain.name %></option>
      <#% end %>
    </select>
  </p>

 <div class="field">
    <#%= f.collection_select :user_mountains, Mountain.order(:name), :id, :name %> -->

   <!--  collection_select(:post, :author_id, Author.all, :id, :name_with_initial, prompt: true) -->
<!--   </div> -->
<!--   <p>
    Add mountain
    <select name="user[mountains][]">
      <#% @treks.each do |trek| %>
      <option value="<#%= trek.id %>"><#%= trek.name %></option>
      <#% end %>
    </select>
  </p> -->


<!--   <#% @mountains.each do |mountain| %>
    <#%= check_box_tag "user[mountains][]", mountain.name, @user.mountains.include?(mountain), id: mountain.name, value: mountain.name %> 
    <#%= label_tag "#{mountain.name}" %></br>
  <#% end %>
 -->


  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>